<!DOCTYPE html>
<html lang="vi" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- CẬP NHẬT TITLE v27 -->
    <title>KITE LEARNING - Nền Tảng Tri Thức </title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Font Awesome (Icons) -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    
    <!-- Google Fonts (v12: Manrope) -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@400;700;800&display=swap" rel="stylesheet">
    
    <!-- MỚI (v13): Thư viện Fuse.js để tìm kiếm mờ -->
    <script src="https://cdn.jsdelivr.net/npm/fuse.js/dist/fuse.min.js"></script>

    <style>
        /* Tùy chỉnh Tailwind: Font MỚI (v12), Màu sắc CAO CẤP, TƯƠNG PHẢN CAO */
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        'sans': ['Manrope', 'sans-serif'],
                        'display': ['Manrope', 'sans-serif']
                    },
                    colors: {
                        'brand-bg': '#FFFFFF',
                        'brand-bg-alt': '#F4F7FA',
                        'brand-text': '#1E293B',
                        'brand-text-light': '#64748B',
                        'brand-primary': '#2563EB',
                        'brand-primary-light': '#DBEAFE',
                        'brand-secondary': '#B45309',
                        'brand-secondary-light': '#FEF3C7',
                        'brand-accent': '#BE123C',
                        'brand-accent-light': '#FFE4E6',
                        'brand-emerald': '#10B981',
                        'brand-emerald-light': '#D1FAE5',
                    }
                }
            }
        };

        /* --- CÁC TÙY CHỈNH CSS NÂNG CAO (v12) --- */

        /* 1. Header khi cuộn trang */
        .header-scrolled {
            background-color: rgba(255, 255, 255, 0.95) !important;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.04);
            border-bottom: 1px solid #F1F5F9;
            backdrop-filter: blur(8px);
        }

        /* 2. Tabs lọc tài liệu */
        .tab-button {
            color: #64748B;
            background-color: transparent;
            border-bottom: 3px solid transparent;
            transition: all 0.3s ease;
            font-weight: 700;
        }
        .tab-button.active {
            color: #2563EB;
            border-bottom-color: #2563EB;
            box-shadow: 0 4px 20px rgba(37, 99, 235, 0.25);
        }
        .tab-button:not(.active):hover {
            color: #000;
            background-color: #FFFFFF;
        }

        /* 3. Modals */
        .modal {
            display: none; position: fixed; z-index: 100; left: 0; top: 0;
            width: 100%; height: 100%; overflow: auto;
            background-color: rgba(0, 0, 0, 0.6);
            backdrop-filter: blur(5px);
            justify-content: center; align-items: center;
            animation: fadeIn 0.3s;
        }
        .modal-content {
            background-color: #ffffff; margin: auto; padding: 2.5rem;
            border-radius: 16px; width: 90%; max-width: 500px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            position: relative;
            animation: slideUp 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }
        .close-button {
            color: #A1A1AA; position: absolute;
            top: 15px; right: 20px; font-size: 28px; font-weight: bold;
            cursor: pointer; transition: color 0.3s ease;
            background: none; border: none; padding: 0;
        }
        .close-button:hover,
        .close-button:focus { color: #18181B; }

        /* 4. Testimonial Slider */
        /* XÓA BỎ (v26): Toàn bộ .testimonial-item slider CSS */

        /* 5. Hiệu ứng Fade-in khi cuộn */
        .fade-in {
            opacity: 0; transform: translateY(30px);
            transition: opacity 0.6s ease-out, transform 0.6s ease-out;
        }
        .fade-in.visible { opacity: 1; transform: translateY(0); }
        
        /* 6. Nâng cấp Card (v12: Bo góc lớn + Đổ bóng tinh tế) */
        .upgraded-card {
            border-radius: 1.5rem; /* 24px */
            border: 1px solid #F1F5F9;
            box-shadow: 0 10px 25px rgba(100, 116, 139, 0.07);
            transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }
        .upgraded-card:hover {
            box-shadow: 0 20px 40px rgba(100, 116, 139, 0.12);
            transform: translateY(-8px);
        }
        
        /* 7. Card Khóa học (Hiệu ứng ảnh) */
        .course-card img {
            transition: transform 0.4s ease, filter 0.4s ease;
        }
        .course-card:hover img {
            transform: scale(1.05);
        }
        
        /* 8. XÓA BỎ (v27): TOÀN BỘ CSS LỘ TRÌNH DỌC (v12, v26) */
        /* Gỡ bỏ .roadmap-timeline::before, .roadmap-item, .roadmap-dot, .roadmap-content, v.v. */


        /* 9. Nút dự phòng */
        .force-bg-primary { background-color: #2563EB !important; }
        .force-bg-primary:hover { background-color: #1D4ED8 !important; }

        /* 10. Animations */
        @keyframes fadeIn { from { opacity: 0.4; } to { opacity: 1; } }
        @keyframes slideUp {
            from { opacity: 0; transform: translateY(50px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* ===== ĐẠI CẢI TIẾN ĐỒ HỌA (v12) ===== */

        /* 11. Modern Background Elements (Tinh chỉnh) */
        body::before {
            content: '';
            position: fixed;
            top: -10vh; left: -10vw;
            width: 60vw; height: 60vw;
            min-width: 400px; min-height: 400px;
            background: radial-gradient(circle, rgba(37, 99, 235, 0.08), transparent 70%);
            border-radius: 50%;
            z-index: -1;
            animation: pulse-bg 20s infinite alternate ease-in-out;
        }
        body::after {
            content: '';
            position: fixed;
            bottom: -20vh; right: -20vw;
            width: 70vw; height: 70vw;
            min-width: 500px; min-height: 500px;
            background: radial-gradient(circle, rgba(180, 83, 9, 0.08), transparent 70%);
            border-radius: 50%;
            z-index: -1;
            animation: pulse-bg 25s infinite alternate ease-in-out;
            animation-delay: -5s;
        }
        @keyframes pulse-bg {
            0% { transform: translate(0, 0) scale(1) rotate(0deg); opacity: 0.5; }
            50% { transform: translate(5vw, -10vh) scale(1.3) rotate(60deg); opacity: 0.8; }
            100% { transform: translate(0, 0) scale(1) rotate(0deg); opacity: 0.5; }
        }

        /* 12. Card Enhancements */
        .document-card {
            border-top: 4px solid transparent;
            background-clip: padding-box;
        }
        .document-card.border-primary { border-color: #2563EB; }
        .document-card.border-secondary { border-color: #B45309; }
        .document-card.border-emerald { border-color: #10B981; }
        .document-card.border-accent { border-color: #BE123C; }

        .course-card.glow-primary:hover { box-shadow: 0 20px 40px rgba(37, 99, 235, 0.15); }
        .course-card.glow-secondary:hover { box-shadow: 0 20px 40px rgba(180, 83, 9, 0.15); }
        .course-card.glow-accent:hover { box-shadow: 0 20px 40px rgba(190, 18, 60, 0.15); }

        /* 13. Feature Icon Animation */
        .feature-icon {
            transition: all 0.3s ease;
            animation: pulse-icon 3s infinite alternate;
        }
        .upgraded-card:hover .feature-icon {
            transform: scale(1.1);
            animation-play-state: paused;
        }
        @keyframes pulse-icon {
            from { transform: scale(1); box-shadow: 0 0 0 0 rgba(37, 99, 235, 0.1); }
            to { transform: scale(1.05); box-shadow: 0 0 0 15px rgba(37, 99, 235, 0); }
        }

        /* 14. NỀN "AURORA" CHO TẤT CẢ SECTION */
        .aurora-hero-bg { 
            position: relative;
            background-color: #F4F7FA; 
            background-image: 
                radial-gradient(at 10% 20%, hsla(222, 83%, 58%, 0.15) 0px, transparent 50%),
                radial-gradient(at 80% 0%, hsla(38, 95%, 54%, 0.1) 0px, transparent 50%),
                radial-gradient(at 60% 90%, hsla(339, 81%, 50%, 0.1) 0px, transparent 50%);
            background-size: 200% 200%;
            animation: aurora-flow 16s linear infinite;
        }
        
        .aurora-white-bg {
            position: relative;
            background-color: #FFFFFF;
            background-image: 
                radial-gradient(at 10% 90%, hsla(222, 83%, 58%, 0.08) 0px, transparent 50%),
                radial-gradient(at 80% 20%, hsla(38, 95%, 54%, 0.07) 0px, transparent 50%),
                radial-gradient(at 20% 10%, hsla(339, 81%, 50%, 0.08) 0px, transparent 50%);
            background-size: 200% 200%;
            animation: aurora-flow 20s linear infinite;
        }
        
        @keyframes aurora-flow {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        /* ===== CẢI TIẾN v19: BIỂU ĐỒ TRI THỨC (ICON) ===== */
        #knowledge-graph-container {
            position: relative;
            width: 100%;
            height: 400px;
            min-height: 350px;
        }
        .knowledge-node {
            position: absolute;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            border-radius: 50%;
            background-color: rgba(255, 255, 255, 0.8);
            border: 2px solid #FFFFFF;
            box-shadow: 0 10px 30px rgba(37, 99, 235, 0.1), 0 0 0 0 rgba(37, 99, 235, 0.1);
            backdrop-filter: blur(4px);
            
            font-size: 2.5rem; /* Kích thước Icon (40px) */
            color: #2563EB; /* Màu Icon (brand-primary) */

            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            animation: pulse-node 4s infinite alternate ease-in-out,
                         float-node 6s infinite alternate ease-in-out;
        }
        .knowledge-node:hover,
        .knowledge-node:focus {
            transform: scale(1.15) !important; 
            box-shadow: 0 20px 40px rgba(37, 99, 235, 0.2), 0 0 0 10px rgba(37, 99, 235, 0.05);
            background-color: #FFFFFF;
            z-index: 10;
            animation-play-state: paused;
        }

        /* Kích thước và Vị trí */
        .node-1 { width: 140px; height: 140px; top: 50%; left: 50%; transform: translate(-50%, -50%); z-index: 5; font-size: 3.5rem; } /* Icon trung tâm lớn hơn */
        .node-2 { width: 110px; height: 110px; top: 15%; left: 30%; animation-delay: -1s, -2s; }
        .node-3 { width: 120px; height: 120px; top: 20%; left: 70%; animation-delay: -2s, -3s; }
        .node-4 { width: 110px; height: 110px; top: 60%; left: 10%; animation-delay: -3s, -1s; }
        .node-5 { width: 120px; height: 120px; top: 65%; left: 80%; animation-delay: -4s, -4s; }
        .node-6 { width: 100px; height: 100px; top: 80%; left: 45%; animation-delay: -5s, -2s; }
        
        @media (max-width: 1023px) {
            #knowledge-graph-container {
                height: 350px;
                transform: scale(0.9);
            }
        }
         @media (max-width: 767px) {
            #knowledge-graph-container {
                height: 300px;
                transform: scale(0.75);
                margin-top: -2rem;
            }
        }

        @keyframes pulse-node {
            from { box-shadow: 0 10px 30px rgba(37, 99, 235, 0.1), 0 0 0 0 rgba(37, 99, 235, 0.1); }
            to { box-shadow: 0 10px 30px rgba(37, 99, 235, 0.15), 0 0 0 15px rgba(37, 99, 235, 0); }
        }
        @keyframes float-node {
            0% { transform: translate(0px, 0px); }
            50% { transform: translate(5px, -10px); }
            100% { transform: translate(0px, 0px); }
        }
        /* ===== KẾT THÚC CSS v19 ===== */


        /* 16. SIÊU CẢI TIẾN: "MAGIC LINE" NAV */
        .nav-link {
            position: relative;
        }
        #nav-magic-line {
            position: absolute;
            bottom: -10px;
            height: 3px;
            background-color: #2563EB;
            border-radius: 99px;
            opacity: 0;
            transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }
        #main-nav:hover #nav-magic-line {
            opacity: 1;
        }
        
        /* 18. CẢI TIẾN (v27): CSS LỘ TRÌNH NGANG */
        .roadmap-grid {
            position: relative;
        }
        .roadmap-step-card {
            position: relative;
        }
        /* Mũi tên kết nối (chỉ cho desktop) */
        @media (min-width: 768px) {
            .roadmap-step-card:not(:last-child)::after {
                content: "\f061"; /* fa-arrow-right */
                font-family: "Font Awesome 6 Free";
                font-weight: 900;
                position: absolute;
                top: 50%;
                right: -1rem; /* Nằm giữa 2 card (gap-8 là 2rem) */
                transform: translateY(-50%);
                font-size: 1.5rem;
                color: #DBEAFE; /* brand-primary-light */
                z-index: -1;
            }
        }
        /* ===== KẾT THÚC CSS (v27) ===== */
        

        /* ===== MỚI (v13): CSS CHO TÍNH NĂNG MỚI ===== */
        
        /* 19. CSS Cho Form Newsletter (v13) */
        #newsletter-form .spinner {
            display: none;
            position: absolute;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%);
        }
        #newsletter-form .button-text {
            transition: opacity 0.2s;
        }
        #newsletter-form.loading .spinner {
            display: inline-block;
        }
        #newsletter-form.loading .button-text {
            opacity: 0;
        }
        #newsletter-form.loading button[type="submit"] {
            background-color: #9CA3AF; /* gray-400 */
            cursor: not-allowed;
        }
        #newsletter-message {
            display: none;
            font-weight: 600;
            margin-top: 1rem;
        }
        #newsletter-message.success {
            display: block;
            color: #10B981; /* brand-emerald */
        }
        #newsletter-message.error {
            display: block;
            color: #BE123C; /* brand-accent */
        }

        /* 20. CSS Cho Cộng đồng "Sống" (v13 & v14) */
        .flow-root li:not(:last-child)::before {
            content: '';
            position: absolute;
            left: 23px; /* Căn giữa avatar (w-12/2 - 2px/2) */
            top: 3.5rem; /* Bắt đầu bên dưới avatar */
            bottom: 0;
            width: 2px;
            background-color: #F1F5F9; /* slate-100 */
        }

        /* 21. CSS Cho Document "No Results" (v13) */
        #document-no-results.hidden {
            display: none;
        }

        /* ===== CẢI TIẾN (v22): CSS CHO COMMUNITY HUB TABS ===== */
        .community-tab-button {
            padding: 0.75rem 1.5rem; /* 12px 24px */
            font-size: 1.125rem; /* 18px */
            font-weight: 700;
            color: #64748B; /* brand-text-light */
            border-radius: 99px; /* bo tròn */
            background-color: transparent;
            border: 2px solid transparent;
            transition: all 0.3s ease;
        }
        .community-tab-button.active {
            color: #2563EB; /* brand-primary */
            background-color: #DBEAFE; /* brand-primary-light */
        }
        .community-tab-button:not(.active):hover {
            background-color: #F4F7FA; /* brand-bg-alt */
            color: #1E293B; /* brand-text */
        }
        .community-tab-content {
            display: none;
            animation: fadeIn 0.5s;
        }
        .community-tab-content.active {
            display: block;
        }
        
    </style>
    
    <link rel="icon" href="https://placehold.co/32x32/2563EB/FFFFFF?text=KITE" type="image/png">

</head>
<body class="font-sans bg-brand-bg text-brand-text antialiased">

    <!-- ===== HEADER ===== -->
    <header id="main-header" class="fixed top-0 left-0 right-0 z-50 bg-white/95 border-b border-slate-100/80 backdrop-blur-lg transition-all duration-300">
        <nav class="container mx-auto px-4 sm:px-6 lg:px-8 py-4">
            <div class="flex justify-between items-center">
                
                <a href="#" class="flex items-center space-x-3">
                    <img src="https://placehold.co/180x50/2563EB/FFFFFF?text=KITE+LEARNING&font=manrope" 
                         alt="KITE LEARNING Logo" 
                         class="h-10 md:h-12" style="height: 48px; width: auto;">
                </a>
                
                <div id="main-nav" class="hidden lg:flex space-x-8 items-center font-semibold relative">
                    <a href="#home" class="nav-link text-brand-text hover:text-brand-primary transition-colors">Trang chủ</a>
                    <a href="#documents" class="nav-link text-brand-text hover:text-brand-primary transition-colors">Kho Tài Liệu</a>
                    <a href="#courses" class="nav-link text-brand-text hover:text-brand-primary transition-colors">Khóa Học</a>
                    <a href="#community" class="nav-link text-brand-text hover:text-brand-primary transition-colors">Cộng Đồng</a>
                    <a href="#mentors" class="nav-link text-brand-text hover:text-brand-primary transition-colors">Mentors</a>
                    <span id="nav-magic-line"></span>

                    <div class="flex items-center space-x-8 pl-8 ml-8 border-l border-slate-200">
                        <button id="login-btn" class="text-brand-text hover:text-brand-primary font-semibold transition-colors">Đăng nhập</button>
                        <button id="register-btn" class="bg-brand-primary text-white px-6 py-2.5 rounded-full font-bold hover:bg-opacity-80 transition-all transform hover:scale-105 shadow-lg shadow-blue-500/20 force-bg-primary">Đăng ký</button>
                    </div>
                </div>
                
                <div class="lg:hidden">
                    <button id="mobile-menu-btn" class="text-brand-text text-3xl" aria-label="Mở menu">
                        <span class="fa-solid fa-bars" aria-hidden="true"></span>
                    </button>
                </div>
            </div>
        </nav>
        
        <!-- Mobile Menu (Hidden) -->
        <div id="mobile-menu" class="hidden lg:hidden bg-white shadow-lg py-4">
            <a href="#home" class="block px-6 py-3 text-brand-text hover:bg-brand-bg-alt font-semibold">Trang chủ</a>
            <a href="#documents" class="block px-6 py-3 text-brand-text hover:bg-brand-bg-alt font-semibold">Kho Tài Liệu</a>
            <a href="#courses" class="block px-6 py-3 text-brand-text hover:bg-brand-bg-alt font-semibold">Khóa Học</a>
            <a href="#community" class="block px-6 py-3 text-brand-text hover:bg-brand-bg-alt font-semibold">Cộng Đồng</a>
            <a href="#mentors" class="block px-6 py-3 text-brand-text hover:bg-brand-bg-alt font-semibold">Mentors</a>
            <div class="px-6 py-4 border-t border-stone-200">
                <button id="login-btn-mobile" class="w-full text-left text-brand-text font-semibold mb-3">Đăng nhập</button>
                <button id="register-btn-mobile" class="w-full bg-brand-primary text-white px-5 py-2.5 rounded-full font-semibold hover:bg-opacity-80 transition-all">Đăng ký</button>
            </div>
        </div>
    </header>

    <!-- ===== MAIN CONTENT ===== -->
    <main>

        <!-- ===== 1. HERO SECTION ===== -->
        <section id="home" class="pt-40 md:pt-48 aurora-hero-bg overflow-hidden">
            <div class="container mx-auto px-4 sm:px-6 lg:px-8">
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 items-center">
                    
                    <div class="text-center lg:text-left fade-in relative z-10 pb-20 md:pb-28">
                        <h1 class="text-5xl md:text-7xl font-extrabold text-brand-text font-display leading-tight">
                            Trao tri thức - Nâng tầm tương lai
                        </h1>
                        <p class="mt-6 text-xl text-brand-text-light max-w-xl mx-auto lg:mx-0 leading-relaxed">
                            Nền tảng tri thức mở dành riêng cho sinh viên Kinh tế.
                            <strong class="text-brand-primary block mt-2">"Học thật – Hiểu sâu – Ứng dụng ngay"</strong>
                        </p>
                        
                        <div class="mt-12 flex flex-col sm:flex-row justify-center lg:justify-start gap-4">
                            <a href="#documents" class="bg-brand-primary text-white px-8 py-3.5 rounded-full font-semibold text-lg hover:bg-opacity-80 transition-all shadow-xl shadow-blue-500/20 hover:shadow-2xl transform hover:scale-105 force-bg-primary">
                                Khám phá Tài Liệu
                            </a>
                            <a href="#courses" class="bg-white text-brand-text px-8 py-3.5 rounded-full font-semibold text-lg hover:bg-gray-50 transition-all shadow-xl hover:shadow-2xl transform hover:scale-105">
                                Xem Khóa Học
                            </a>
                        </div>
                    </div>
                    
                    <!-- CẢI TIẾN (v19): Biểu đồ Tri Thức (ICON) -->
                    <div id="knowledge-graph-container" class="fade-in -mt-20 md:-mt-28" style="transition-delay: 200ms;">
                        <!-- Các nút tri thức (icon) sẽ được JS chèn vào đây -->
                    </div>

                </div>
            </div>
            
            <!-- XÓA BỎ (v26): Toàn bộ khối .hero-ticker đã bị gỡ bỏ -->
            
        </section>

        <!-- ===== 2. BA TRỤ CỘT CỐT LÕI (KHÔI PHỤC v23) ===== -->
        <section id="features" class="py-28 bg-white aurora-white-bg">
            <div class="container mx-auto px-4 sm:px-6 lg:px-8">
                <div class="text-center mb-20 max-w-3xl mx-auto fade-in">
                    <h2 class="text-4xl md:text-5xl font-extrabold font-display text-brand-text">Một Nền Tảng, Mọi Nhu Cầu</h2>
                    <p class="mt-5 text-xl text-brand-text-light leading-relaxed">KITE LEARNING giải quyết 3 vấn đề lớn nhất của sinh viên Kinh tế.</p>
                </div>
                
                <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                    <div class="text-center p-8 md:p-10 fade-in upgraded-card bg-white">
                        <div class="feature-icon flex-shrink-0 w-20 h-20 bg-gradient-to-br from-blue-500 to-blue-300 text-white rounded-2xl flex items-center justify-center mx-auto shadow-lg shadow-blue-500/20">
                            <span class="fa-solid fa-book-atlas text-4xl" aria-hidden="true"></span>
                        </div>
                        <h3 class="text-2xl font-bold font-display mt-6 mb-3 text-brand-text">Kho Tài Liệu Tin Cậy</h3>
                        <p class="text-brand-text-light leading-relaxed">100% giáo trình, đề thi, bài luận mẫu được kiểm duyệt bởi giảng viên & mentor.</p>
                    </div>
                    
                    <div class="text-center p-8 md:p-10 fade-in upgraded-card bg-white" style="transition-delay: 200ms;">
                        <!-- CẢI TIẾN (v25): Đổi icon "thực chiến" -->
                        <div class="feature-icon flex-shrink-0 w-20 h-20 bg-gradient-to-br from-amber-500 to-amber-300 text-white rounded-2xl flex items-center justify-center mx-auto shadow-lg shadow-amber-500/20" style="animation-delay: -1s;">
                            <span class="fa-solid fa-chart-line text-4xl" aria-hidden="true"></span>
                        </div>
                        <h3 class="text-2xl font-bold font-display mt-6 mb-3 text-brand-text">Học Tập Thực Chiến</h3>
                        <p class="text-brand-text-light leading-relaxed">Các khóa microlearning và kỹ năng mềm (Excel, thuyết trình) giúp bạn "ứng dụng ngay".</p>
                    </div>
                    
                    <div class="text-center p-8 md:p-10 fade-in upgraded-card bg-white" style="transition-delay: 400ms;">
                        <div class="feature-icon flex-shrink-0 w-20 h-20 bg-gradient-to-br from-rose-500 to-rose-300 text-white rounded-2xl flex items-center justify-center mx-auto shadow-lg shadow-rose-500/20" style="animation-delay: -2s;">
                            <span class="fa-solid fa-users text-4xl" aria-hidden="true"></span>
                        </div>
                        <h3 class="text-2xl font-bold font-display mt-6 mb-3 text-brand-text">Cộng Đồng & Định Hướng</h3>
                        <p class="text-brand-text-light leading-relaxed">Tham gia diễn đàn, workshop và kết nối trực tiếp với mạng lưới mentor chuyên môn.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- ===== 3. KHO TÀI LIỆU (KHÔI PHỤC v23) ===== -->
        <section id="documents" class="py-28 aurora-hero-bg">
            <div class="container mx-auto px-4 sm:px-6 lg:px-8">
                <div class="text-center mb-16 fade-in">
                    <h2 class="text-4xl md:text-5xl font-extrabold font-display text-brand-text">Kho Tài Liệu Học Thuật</h2>
                    <p class="mt-5 text-xl text-brand-text-light max-w-2xl mx-auto leading-relaxed">Tìm kiếm tài liệu theo môn học. Đã được phân loại và kiểm duyệt.</p>
                </div>

                <!-- CẢI TIẾN (v13): Thanh tìm kiếm -->
                <div class="max-w-2xl mx-auto mb-12 fade-in">
                    <div class="relative">
                        <input type="search" id="document-search" 
                               class="w-full px-6 py-4 rounded-full border border-slate-200 shadow-lg text-lg focus:outline-none focus:ring-2 focus:ring-brand-primary"
                               placeholder="Gõ 'vĩ mô', 'đề thi', 'marketing'...">
                        <span class="fa-solid fa-search text-brand-text-light absolute right-6 top-1/2 -translate-y-1/2 text-xl" aria-hidden="true"></span>
                    </div>
                </div>
                
                <div class="flex justify-center flex-wrap gap-4 md:gap-8 mb-12 fade-in" role="tablist" id="document-tablist">
                    <button class="tab-button active py-3 px-8 text-lg rounded-lg" data-tab="all">Tất cả</button>
                    <button class="tab-button py-3 px-8 text-lg rounded-lg" data-tab="dai-cuong">Môn Đại Cương</button>
                    <button class="tab-button py-3 px-8 text-lg rounded-lg" data-tab="chuyen-nganh">Môn Chuyên Ngành</button>
                </div>

                <!-- CẢI TIẾN (v13): Grid động -->
                <div id="document-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">
                    <!-- Nội dung tài liệu sẽ được JS chèn vào đây -->
                </div>
                
                <!-- CẢI TIẾN (v13): Thông báo không có kết quả -->
                <div id="document-no-results" class="hidden text-center py-16 fade-in">
                    <span class="fa-solid fa-folder-open text-6xl text-brand-text-light mb-6" aria-hidden="true"></span>
                    <h3 class="text-2xl font-bold font-display text-brand-text">Không tìm thấy tài liệu</h3>
                    <p class="text-xl text-brand-text-light mt-2">Vui lòng thử lại với từ khóa hoặc bộ lọc khác.</p>
                </div>

            </div>
        </section>

        <!-- ===== 4. KHÓA HỌC (KHÔI PHỤC v23) ===== -->
        <section id="courses" class="py-28 bg-white aurora-white-bg">
            <div class="container mx-auto px-4 sm:px-6 lg:px-8">
                <div class="text-center mb-16 fade-in">
                    <h2 class="text-4xl md:text-5xl font-extrabold font-display text-brand-text">Khóa Học Chuyên Sâu & Kỹ Năng</h2>
                    <p class="mt-5 text-xl text-brand-text-light max-w-2xl mx-auto leading-relaxed">Phát triển kỹ năng thực tiễn với các khóa học microlearning và chuyên đề.</p>
                </div>
                
                <!-- CẢI TIẾN (v13): Grid động -->
                <div id="course-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                    <!-- Nội dung khóa học sẽ được JS chèn vào đây -->
                </div>
            </div>
        </section>

        <!-- ===== 5. CỘNG ĐỒNG & MENTORS (CẢI TIẾN LỚN v22 + v24) ===== -->
        <section id="community" class="py-28 aurora-hero-bg overflow-hidden">
            <div class="container mx-auto px-4 sm:px-6 lg:px-8">
                
                <!-- Tiêu đề chính của Section -->
                <div class="text-center mb-16 fade-in">
                    <h2 class="text-4xl md:text-5xl font-extrabold font-display text-brand-text">Trung tâm Cộng đồng KITE</h2>
                    <p class="mt-5 text-xl text-brand-text-light max-w-2xl mx-auto leading-relaxed">Kết nối, học hỏi, và phát triển. Tất cả ở cùng một nơi.</p>
                </div>

                <!-- Card Hub Thống Nhất -->
                <div class="max-w-5xl mx-auto bg-white upgraded-card p-6 sm:p-8 md:p-10 border-none fade-in">
                    
                    <!-- Tab Buttons -->
                    <div id="community-tablist" role="tablist" class="flex flex-col sm:flex-row justify-center flex-wrap gap-4 md:gap-6 mb-10">
                        <button id="btn-tab-activity" role="tab" aria-selected="true" class="community-tab-button active" data-tab="activity">
                            <span class="fa-solid fa-bolt mr-2"></span>
                            Hoạt động Mới nhất
                        </button>
                        <button id="btn-tab-mentors" role="tab" aria-selected="false" class="community-tab-button" data-tab="mentors">
                            <span class="fa-solid fa-users mr-2"></span>
                            Gặp gỡ Mentors
                        </button>
                        <button id="btn-tab-events" role="tab" aria-selected="false" class="community-tab-button" data-tab="events">
                            <span class="fa-solid fa-calendar-star mr-2"></span>
                            Sự kiện & Workshop
                        </button>
                    </div>

                    <!-- Tab Content Area -->
                    <div>
                        <!-- Tab 1: Hoạt động Mới nhất -->
                        <div id="tab-activity" role="tabpanel" class="community-tab-content active">
                            <div class="flex justify-between items-center mb-6 flex-wrap gap-4">
                                <h3 class="text-2xl font-bold font-display text-brand-text">Cộng đồng "Sống"</h3>
                                <a href="#register-modal" id="cta-register-btn-v22" class="bg-brand-primary text-white px-6 py-3 rounded-full font-semibold hover:bg-opacity-80 transition-all shadow-lg shadow-blue-500/20 transform hover:scale-105 force-bg-primary">
                                    <span class="fa-solid fa-comments mr-2"></span>
                                    Tham gia Diễn đàn
                                </a>
                            </div>
                            
                            <div class="flow-root">
                                <ul role="list" class="-mb-6">
                                    <!-- Hoạt động 1: Câu hỏi -->
                                    <li class="relative pb-8">
                                        <div class="relative flex items-start space-x-4">
                                            <div class="relative">
                                                <img class="flex h-12 w-12 items-center justify-center rounded-full object-cover" src="https://images.pexels.com/photos/774909/pexels-photo-774909.jpeg?auto=compress&cs=tinysrgb&w=100&h=100&dpr=1" alt="Avatar Hằng Nguyễn">
                                                <span class="absolute -bottom-2 -right-2 flex h-7 w-7 items-center justify-center rounded-full bg-brand-primary-light">
                                                    <span class="fa-solid fa-circle-question text-brand-primary"></span>
                                                </span>
                                            </div>
                                            <div class="min-w-0 flex-1 pt-1">
                                                <p class="text-brand-text-light text-base"><strong class="font-bold text-brand-text">Hằng Nguyễn</strong> vừa hỏi trong chủ đề <a href="#" class="font-bold text-brand-primary hover:underline">Kinh tế Vi mô</a></p>
                                                <p class="text-lg font-semibold text-brand-text mt-1">"Mọi người ơi, ai có bài tập mẫu về lý thuyết trò chơi không ạ?"</p>
                                                <span class="text-sm text-brand-text-light">5 phút trước</span>
                                            </div>
                                        </div>
                                    </li>
                                    <!-- Hoạt động 2: Tải lên -->
                                    <li class="relative pb-8">
                                        <div class="relative flex items-start space-x-4">
                                            <div class="relative">
                                                <img class="flex h-12 w-12 items-center justify-center rounded-full object-cover" src="https://images.pexels.com/photos/1239291/pexels-photo-1239291.jpeg?auto=compress&cs=tinysrgb&w=100&h=100&dpr=1" alt="Avatar Đặng Thảo Vi">
                                                <span class="absolute -bottom-2 -right-2 flex h-7 w-7 items-center justify-center rounded-full bg-brand-secondary-light">
                                                    <span class="fa-solid fa-cloud-arrow-up text-brand-secondary"></span>
                                                </span>
                                            </div>
                                            <div class="min-w-0 flex-1 pt-1">
                                                <p class="text-brand-text-light text-base"><strong class="font-bold text-brand-text">Đặng Thảo Vi</strong> đã tải lên tài liệu mới <a href="#" class="font-bold text-brand-secondary hover:underline">Ôn thi Vĩ mô</a></p>
                                                <p class="text-lg font-semibold text-brand-text mt-1">"Tổng hợp 50 câu trắc nghiệm Vĩ mô (có đáp án) nè mọi người."</p>
                                                <span class="text-sm text-brand-text-light">2 giờ trước</span>
                                            </div>
                                        </div>
                                    </li>
                                    <!-- Hoạt động 3: Trả lời -->
                                    <li class="relative pb-8">
                                        <div class="relative flex items-start space-x-4">
                                            <div class="relative">
                                                <img class="flex h-12 w-12 items-center justify-center rounded-full object-cover" src="https://images.pexels.com/photos/837358/pexels-photo-837358.jpeg?auto=compress&cs=tinysrgb&w=100&h=100&dpr=1" alt="Avatar Mentor Bằng">
                                                <span class="absolute -bottom-2 -right-2 flex h-7 w-7 items-center justify-center rounded-full bg-brand-emerald-light">
                                                    <span class="fa-solid fa-comment-dots text-brand-emerald"></span>
                                                </span>
                                            </div>
                                            <div class="min-w-0 flex-1 pt-1">
                                                <p class="text-brand-text-light text-base"><strong class="font-bold text-brand-text">Anh Hữu Bằng (Mentor)</strong> vừa trả lời trong chủ đề <a href="#" class="font-bold text-brand-emerald hover:underline">Định hướng Nghề nghiệp</a></p>
                                                <p class="text-lg font-semibold text-brand-text mt-1">"Chào em, về câu hỏi giữa 'Audit' và 'Finance'..."</p>
                                                <span class="text-sm text-brand-text-light">4 giờ trước</span>
                                            </div>
                                        </div>
                                    </li>
                                </ul>
                            </div>
                        </div>

                        <!-- Tab 2: Gặp gỡ Mentors -->
                        <div id="tab-mentors" role="tabpanel" class="community-tab-content">
                            <h3 class="text-2xl font-bold font-display text-brand-text mb-6">Mạng lưới Mentor Tiêu biểu</h3>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                <!-- Mentor 1 -->
                                <div class="flex items-center gap-5 p-5 bg-brand-bg-alt rounded-2xl">
                                    <img src="https://placehold.co/100x100/ffffff/4E443F?text=Mentor" alt="Ảnh Mentor Nguyễn Hữu Bằng" class="w-24 h-24 rounded-full object-cover border-4 border-white shadow-lg flex-shrink-0">
                                    <div>
                                        <h4 class="text-lg font-bold font-display">Anh Nguyễn Hữu Bằng</h4>
                                        <p class="text-brand-primary font-medium">Cố vấn học thuật</p>
                                        <p class="mt-1 text-brand-text-light text-sm italic">"Tri thức là con đường ngắn nhất để bay cao."</p>
                                    </div>
                                </div>
                                <!-- Mentor 2 -->
                                <div class="flex items-center gap-5 p-5 bg-brand-bg-alt rounded-2xl">
                                    <img src="https://placehold.co/100x100/ffffff/4E443F?text=Mentor" alt="Ảnh Mentor Trần Bích Hà" class="w-24 h-24 rounded-full object-cover border-4 border-white shadow-lg flex-shrink-0">
                                    <div>
                                        <h4 class="text-lg font-bold font-display">Chị Trần Bích Hà</h4>
                                        <p class="text-brand-secondary font-medium">Data Analyst @ Shopee</p>
                                        <p class="mt-1 text-brand-text-light text-sm italic">"Đừng sợ dữ liệu, hãy để dữ liệu kể chuyện."</p>
                                    </div>
                                </div>
                                <!-- Mentor 3 -->
                                <div class="flex items-center gap-5 p-5 bg-brand-bg-alt rounded-2xl">
                                    <img src="https://placehold.co/100x100/ffffff/4E443F?text=Mentor" alt="Ảnh Mentor Lê Anh Tuấn" class="w-24 h-24 rounded-full object-cover border-4 border-white shadow-lg flex-shrink-0">
                                    <div>
                                        <h4 class="text-lg font-bold font-display">Anh Lê Anh Tuấn</h4>
                                        <p class="text-brand-accent font-medium">Marketing Manager @ Tiki</p>
                                        <p class="mt-1 text-brand-text-light text-sm italic">"Hiểu insight khách hàng là chìa khóa."</p>
                                    </div>
                                </div>
                                <!-- Mentor 4 -->
                                <div class="flex items-center gap-5 p-5 bg-brand-bg-alt rounded-2xl">
                                    <img src="https://placehold.co/100x100/ffffff/4E443F?text=Mentor" alt="Ảnh Mentor Võ Thị Yến" class="w-24 h-24 rounded-full object-cover border-4 border-white shadow-lg flex-shrink-0">
                                    <div>
                                        <h4 class="text-lg font-bold font-display">Chị Võ Thị Yến</h4>
                                        <p class="text-brand-emerald font-medium">Senior Auditor @ Deloitte</p>
                                        <p class="mt-1 text-brand-text-light text-sm italic">"Cẩn trọng và tỉ mỉ trong từng con số."</p>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Tab 3: Sự kiện & Workshop (CẢI TIẾN v24) -->
                        <div id="tab-events" role="tabpanel" class="community-tab-content">
                            <h3 class="text-2xl font-bold font-display text-brand-text mb-6">Sự kiện & Workshop Sắp tới</h3>
                            <div class="space-y-0">
                                <!-- Event 1 -->
                                <div class="flex flex-col sm:flex-row items-center justify-between gap-6 p-6 border-b border-slate-100">
                                    <div class="flex-1 text-center sm:text-left">
                                        <h4 class="text-xl font-bold font-display">Workshop: Excel for Data Analysis</h4>
                                        <p class="text-brand-text-light mt-1"><span class="fa-solid fa-clock mr-2"></span> 18:00 - 20:00 | Online qua Zoom</p>
                                    </div>
                                    <a href="#" class="bg-brand-primary text-white px-6 py-3 rounded-full font-semibold hover:bg-opacity-80 transition-all shadow-lg shadow-blue-500/20 transform hover:scale-105 force-bg-primary flex-shrink-0">
                                        Đăng ký ngay
                                    </a>
                                </div>
                                <!-- Event 2 -->
                                <div class="flex flex-col sm:flex-row items-center justify-between gap-6 p-6">
                                    <div class="flex-1 text-center sm:text-left">
                                        <h4 class="text-xl font-bold font-display">Talkshow: Con đường trở thành Auditor</h4>
                                        <p class="text-brand-text-light mt-1"><span class="fa-solid fa-map-marker-alt mr-2"></span> Hội trường A, ĐH Kinh tế</p>
                                    </div>
                                    <a href="#" class="bg-white text-brand-text px-6 py-3 rounded-full font-semibold hover:bg-gray-100 transition-all shadow-md transform hover:scale-105 flex-shrink-0">
                                        Xem chi tiết
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </section>
        <!-- ===== KẾT THÚC CẢI TIẾN (v22) ===== -->


        <!-- ===== 6. LỘ TRÌNH (CẢI TIẾN LỚN v27) ===== -->
        <section id="roadmap" class="py-28 bg-white aurora-white-bg overflow-hidden">
            <div class="container mx-auto px-4 sm:px-6 lg:px-8">
                <div class="text-center mb-20 fade-in"> <!-- Tăng mb -->
                    <h2 class="text-4xl md:text-5xl font-extrabold font-display text-brand-text">Lộ Trình Học Tập Đơn Giản</h2>
                    <p class="mt-5 text-xl text-brand-text-light leading-relaxed">Chỉ với 3 bước để chinh phục tri thức.</p>
                </div>
                
                <!-- Cấu trúc Grid ngang mới -->
                <div class="roadmap-grid grid grid-cols-1 md:grid-cols-3 gap-12 md:gap-8 max-w-5xl mx-auto">
                    
                    <!-- Bước 1 -->
                    <div class="roadmap-step-card text-center p-8 fade-in upgraded-card bg-white">
                        <div class="feature-icon flex-shrink-0 w-20 h-20 bg-gradient-to-br from-blue-500 to-blue-300 text-white rounded-2xl flex items-center justify-center mx-auto shadow-lg shadow-blue-500/20">
                            <span class="fa-solid fa-search text-4xl" aria-hidden="true"></span>
                        </div>
                        <h3 class="text-2xl font-bold font-display mt-6 mb-3 text-brand-text">Bước 1: Tìm kiếm</h3>
                        <p class="text-brand-text-light leading-relaxed">Tìm kiếm tài liệu theo môn học hoặc khóa học kỹ năng bạn cần.</p>
                    </div>
                    
                    <!-- Bước 2 -->
                    <div class="roadmap-step-card text-center p-8 fade-in upgraded-card bg-white" style="transition-delay: 200ms;">
                        <div class="feature-icon flex-shrink-0 w-20 h-20 bg-gradient-to-br from-amber-500 to-amber-300 text-white rounded-2xl flex items-center justify-center mx-auto shadow-lg shadow-amber-500/20" style="animation-delay: -1s;">
                            <span class="fa-solid fa-play text-4xl" aria-hidden="true"></span>
                        </div>
                        <h3 class="text-2xl font-bold font-display mt-6 mb-3 text-brand-text">Bước 2: Tham gia</h3>
                        <p class="text-brand-text-light leading-relaxed">Học ngay với các video microlearning hoặc tải tài liệu đã được kiểm duyệt.</p>
                    </div>
                    
                    <!-- Bước 3 -->
                     <div class="roadmap-step-card text-center p-8 fade-in upgraded-card bg-white" style="transition-delay: 400ms;">
                        <div class="feature-icon flex-shrink-0 w-20 h-20 bg-gradient-to-br from-rose-500 to-rose-300 text-white rounded-2xl flex items-center justify-center mx-auto shadow-lg shadow-rose-500/20" style="animation-delay: -2s;">
                            <span class="fa-solid fa-comments text-4xl" aria-hidden="true"></span>
                        </div>
                        <h3 class="text-2xl font-bold font-display mt-6 mb-3 text-brand-text">Bước 3: Kết nối</h3>
                        <p class="text-brand-text-light leading-relaxed">Đặt câu hỏi trên diễn đàn và nhận hỗ trợ từ cộng đồng.</p>
                    </div>

                </div>
            </div>
        </section>
        <!-- ===== KẾT THÚC CẢI TIẾN (v27) ===== -->

        <!-- ===== 7. TESTIMONIALS (CẢI TIẾN LỚN v27) ===== -->
        <section id="testimonials" class="py-28 aurora-hero-bg">
            <div class="container mx-auto px-4 sm:px-6 lg:px-8 max-w-5xl"> 
                <div class="text-center mb-16 fade-in"> 
                    <h2 class="text-4xl md:text-5xl font-extrabold font-display text-brand-text">Sinh Viên Nói Gì Về Chúng Tôi?</h2>
                </div>
                
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                    
                    <!-- Testimonial 1 (Card mới) -->
                    <div class="testimonial-item upgraded-card bg-white p-10 text-center fade-in">
                        <img src="https://placehold.co/100x100/ffffff/4E443F?text=SV" alt="Ảnh đại diện sinh viên Nguyễn Thị Thúy Hằng" class="w-24 h-24 rounded-full mx-auto mb-6 border-4 border-brand-primary-light shadow-lg">
                        <blockquote class="text-xl font-medium text-brand-text leading-relaxed italic">
                            "KITE LEARNING đã thay đổi cách mình học. Tài liệu được sắp xếp rõ ràng... Các khóa học kỹ năng Excel rất thực tế, giúp mình tự tin hơn khi làm báo cáo."
                        </blockquote>
                        <div class="mt-6">
                            <h5 class="text-lg font-bold font-display">Nguyễn Thị Thúy Hằng</h5>
                            <p class="text-brand-primary font-medium">Sinh viên K50 - Khoa Kinh tế</p>
                        </div>
                    </div>
                    
                    <!-- Testimonial 2 (Card mới) -->
                    <div class="testimonial-item upgraded-card bg-white p-10 text-center fade-in" style="transition-delay: 200ms;">
                        <img src="https://placehold.co/100x100/ffffff/4E443F?text=SV" alt="Ảnh đại diện sinh viên Đặng Thảo Vi" class="w-24 h-24 rounded-full mx-auto mb-6 border-4 border-brand-secondary-light shadow-lg">
                        <blockquote class="text-xl font-medium text-brand-text leading-relaxed italic">
                            "Mình rất thích tính năng cộng đồng và các workshop. Nhờ có mentor hướng dẫn, mình đã biết cách làm một bài luận nghiên cứu khoa học chuẩn chỉnh."
                        </blockquote>
                        <div class="mt-6">
                            <h5 class="text-lg font-bold font-display">Đặng Thảo Vi</h5>
                            <p class="text-brand-secondary font-medium">Sinh viên K50 - Khoa Kinh tế</p>
                        </div>
                    </div>

                </div>

                <!-- CTA (v27) -->
                <div class="text-center mt-16 fade-in" style="transition-delay: 400ms;">
                    <h3 class="text-2xl font-bold font-display text-brand-text max-w-xl mx-auto">Trải nghiệm các khóa học Premium và Kỹ năng mềm ngay hôm nay</h3>
                    <p class="text-lg text-brand-text-light mt-3 mb-8">Nâng cấp kỹ năng của bạn với các khóa học thực chiến được thiết kế bởi chuyên gia.</p>
                    <a href="#courses" class="bg-brand-primary text-white px-8 py-3.5 rounded-full font-semibold text-lg hover:bg-opacity-80 transition-all shadow-xl shadow-blue-500/20 hover:shadow-2xl transform hover:scale-105 force-bg-primary">
                        Xem tất cả Khóa học
                    </a>
                </div>
            </div>
        </section>

    </main>

    <!-- ===== FOOTER ===== -->
    <footer class="bg-slate-800 text-slate-300 pt-20 pb-8">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8">
            <div class="grid grid-cols-1 md:grid-cols-4 gap-10">
                <!-- Cột 1: Giới thiệu -->
                <div>
                    <a href="#">
                         <img src="https://placehold.co/180x50/FFFFFF/1E293B?text=KITE+LEARNING&font=manrope" 
                              alt="KITE LEARNING Logo (Footer)" 
                              class="h-10 mb-4" style="height: 40px; width: auto;">
                    </a>
                    <p class="text-slate-300 leading-relaxed">Nền tảng tri thức mở dành cho sinh viên Trường Đại học Kinh tế - Đại học Đà Nẵng.</p>
                    <div class="flex space-x-4 mt-6">
                        <a href="https://www.facebook.com/profile.php?id=61582600221072" target="_blank" class="text-slate-300 hover:text-white text-2xl transition-colors" aria-label="Facebook KITE LEARNING"><span class="fa-brands fa-facebook" aria-hidden="true"></span></a>
                        <a href="#" class="text-slate-300 hover:text-white text-2xl transition-colors" aria-label="Youtube KITE LEARNING"><span class="fa-brands fa-youtube" aria-hidden="true"></span></a>
                        <a href="#" class="text-slate-300 hover:text-white text-2xl transition-colors" aria-label="Tiktok KITE LEARNING"><span class="fa-brands fa-tiktok" aria-hidden="true"></span></a>
                    </div>
                </div>
                
                <!-- Cột 2: Liên kết nhanh -->
                <div>
                    <h6 class="text-lg font-semibold text-white mb-5 font-display">Liên kết nhanh</h6>
                    <ul class="space-y-3">
                        <li><a href="#home" class="text-slate-300 hover:text-white hover:underline">Trang chủ</a></li>
                        <li><a href="#documents" class="text-slate-300 hover:text-white hover:underline">Kho Tài Liệu</a></li>
                        <li><a href="#courses" class="text-slate-300 hover:text-white hover:underline">Khóa Học</a></li>
                        <li><a href="#mentors" class="text-slate-300 hover:text-white hover:underline">Đội ngũ Mentor</a></li>
                    </ul>
                </div>
                
                <!-- Cột 3: Hỗ trợ -->
                <div>
                    <h6 class="text-lg font-semibold text-white mb-5 font-display">Hỗ trợ</h6>
                    <ul class="space-y-3">
                        <li><a href="#" class="text-slate-300 hover:text-white hover:underline">Câu hỏi thường gặp (FAQ)</a></li>
                        <li><a href="#" class="text-slate-300 hover:text-white hover:underline">Chính sách bảo mật</a></li>
                        <li><a href="#" class="text-slate-300 hover:text-white hover:underline">Điều khoản sử dụng</a></li>
                        <li><a href="#" class="text-slate-300 hover:text-white hover:underline">Liên hệ</a></li>
                    </ul>
                </div>
                
                <!-- Cột 4: Đăng ký nhận tin -->
                <div>
                    <h6 class="text-lg font-semibold text-white mb-5 font-display">Đăng ký nhận tin</h6>
                    <p class="text-slate-300 mb-4 leading-relaxed">Nhận thông tin về khóa học mới và workshop sắp tới.</p>
                    <!-- CẢI TIẾN (v13): Thêm ID cho form và các phần tử liên quan -->
                    <form class="flex" id="newsletter-form">
                        <label for="footer-email" class="sr-only">Email của bạn</label>
                        <input type="email" id="footer-email" placeholder="Email của bạn" class="w-full px-4 py-2.5 rounded-l-md border-0 text-brand-text focus:outline-none focus:ring-2 focus:ring-brand-primary" required>
                        <button type="submit" class="bg-brand-primary text-white px-5 py-2.5 rounded-r-md hover:bg-opacity-80 transition-colors relative">
                            <span class="fa-solid fa-spinner animate-spin spinner"></span>
                            <span class="button-text">Gửi</span>
                        </button>
                    </form>
                    <div id="newsletter-message" class="text-lg"></div>
                </div>
            </div>
            
            <div class="border-t border-slate-700 mt-16 pt-8 text-center text-slate-300">
                <p>&copy; 2025 KITE LEARNING. Phát triển bởi Nhóm 3.</p>
            </div>
        </div>
    </footer>

    <!-- ===== MODALS ===== -->
    
    <!-- Login Modal -->
    <div id="login-modal" class="modal">
        <div class="modal-content">
            <button class="close-button" id="close-login" aria-label="Đóng">&times;</button>
            <h2 class="text-2xl font-bold font-display text-center mb-6 text-brand-text">Đăng nhập KITE LEARNING</h2>
            <form>
                <div class="mb-4">
                    <label for="login-email" class="block text-sm font-medium text-brand-text-light mb-2">Email Sinh Viên</label>
                    <input type="email" id="login-email" class="w-full px-4 py-3 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-primary" placeholder="msv@due.edu.vn">
                </div>
                <div class="mb-6">
                    <label for="login-password" class="block text-sm font-medium text-brand-text-light mb-2">Mật khẩu</label>
                    <input type="password" id="login-password" class="w-full px-4 py-3 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-primary" placeholder="********">
                </div>
                <button type="submit" class="w-full bg-brand-primary text-white py-3 rounded-lg font-semibold hover:bg-opacity-80 transition-colors">Đăng nhập</button>
                <p class="text-center text-sm text-slate-600 mt-5">Chưa có tài khoản? <a href="#" id="show-register-from-login" class="text-brand-secondary hover:underline">Đăng ký ngay</a></p>
            </form>
        </div>
    </div>
    <!-- Register Modal -->
    <div id="register-modal" class="modal">
        <div class="modal-content">
            <button class="close-button" id="close-register" aria-label="Đóng">&times;</button>
            <h2 class="text-2xl font-bold font-display text-center mb-6 text-brand-text">Đăng ký Tài khoản</h2>
            <form>
                <div class="mb-4">
                    <label for="register-email" class="block text-sm font-medium text-brand-text-light mb-2">Email Sinh Viên</label>
                    <input type="email" id="register-email" class="w-full px-4 py-3 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-primary" placeholder="msv@due.edu.vn">
                </div>
                <div class="mb-4">
                    <label for="register-password" class="block text-sm font-medium text-brand-text-light mb-2">Mật khẩu</label>
                    <input type="password" id="register-password" class="w-full px-4 py-3 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-primary" placeholder="Tạo mật khẩu">
                </div>
                <div class="mb-6">
                    <label for="register-confirm-password" class="block text-sm font-medium text-brand-text-light mb-2">Xác nhận Mật khẩu</label>
                    <input type="password" id="register-confirm-password" class="w-full px-4 py-3 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-primary" placeholder="Nhập lại mật khẩu">
                </div>
                <button type="submit" class="w-full bg-brand-primary text-white py-3 rounded-lg font-semibold hover:bg-opacity-80 transition-colors">Đăng ký</button>
                <p class="text-center text-sm text-slate-600 mt-5">Đã có tài khoản? <a href="#" id="show-login-from-register" class="text-brand-secondary hover:underline">Đăng nhập</a></p>
            </form>
        </div>
    </div>
    <!-- Document Detail Modal -->
    <div id="document-modal" class="modal">
        <div class="modal-content max-w-2xl">
            <button class="close-button" id="close-document" aria-label="Đóng">&times;</button>
            <h2 id="document-title" class="text-2xl font-bold font-display text-center mb-6 text-brand-text">Chi tiết Tài liệu</h2>
            <!-- CẢI TIẾN (v13): Nội dung modal động -->
            <div id="document-body">
                <!-- Nội dung sẽ được JS chèn vào đây -->
                <p>Đang tải thông tin chi tiết...</p>
            </div>
            <div class="flex justify-end gap-4 mt-6">
                 <button id="close-document-btn" class="bg-slate-200 text-slate-800 px-6 py-2.5 rounded-lg font-medium hover:bg-slate-300 transition-colors">Đóng</button>
                 <!-- CẢI TIẾN (v13): Nút tải về động -->
                 <a id="document-download-btn" href="#" class="bg-brand-primary text-white px-6 py-2.5 rounded-lg font-semibold hover:bg-opacity-80 transition-colors">
                    <span class="fa-solid fa-download mr-2" aria-hidden="true"></span>
                    <span id="document-download-text">Tải về (1.2MB)</span>
                 </a>
            </div>
        </div>
    </div>


    <!-- JavaScript -->
    <script>
        (function() {
            'use strict';

            // ===== CẢI TIẾN (v13): Dữ liệu động cho Trang =====
            
            // --- Dữ liệu Kho Tài Liệu ---
            const allDocuments = [
                { 
                    id: 'vimo', 
                    title: 'Kinh tế Vi mô', 
                    description: 'Tổng hợp giáo trình, đề thi giữa kỳ, cuối kỳ và bài tập lớn.',
                    count: '120+', 
                    category: 'dai-cuong', 
                    icon: 'fa-magnifying-glass-chart', 
                    color: 'primary',
                    files: ['Giáo trình Vi mô (PDF)', 'Đề thi K49 (có đáp án)', 'Bài tập lớn mẫu (Word)', 'Slide 10 chương (PPT)'],
                    size: '24.5MB',
                    tags: ['vi mô', 'đề thi', 'bài tập', 'giáo trình', 'đại cương']
                },
                { 
                    id: 'vima', 
                    title: 'Kinh tế Vĩ mô', 
                    description: 'Slide bài giảng, case study mẫu và bộ đề thi trắc nghiệm.',
                    count: '95+', 
                    category: 'dai-cuong', 
                    icon: 'fa-chart-line', 
                    color: 'secondary',
                    files: ['Slide bài giảng (PDF)', 'Case study mẫu', 'Bộ 200 câu trắc nghiệm (có đáp án)'],
                    size: '18.2MB',
                    tags: ['vĩ mô', 'trắc nghiệm', 'slide', 'case study', 'đại cương']
                },
                { 
                    id: 'kttq', 
                    title: 'Kinh tế Quốc tế', 
                    description: 'Các bài luận mẫu, báo cáo chuyên đề và tài liệu ôn tập.',
                    count: '70+', 
                    category: 'chuyen-nganh', 
                    icon: 'fa-globe-americas', 
                    color: 'emerald',
                    files: ['Bài luận mẫu 9 điểm', 'Báo cáo chuyên đề (PDF)', 'Tài liệu ôn tập cuối kỳ'],
                    size: '12.0MB',
                    tags: ['quốc tế', 'luận', 'báo cáo', 'chuyên ngành']
                },
                { 
                    id: 'toan', 
                    title: 'Toán ứng dụng', 
                    description: 'Đề cương chi tiết, bài tập tình huống và sách tham khảo.',
                    count: '85+', 
                    category: 'dai-cuong', 
                    icon: 'fa-calculator', 
                    color: 'accent',
                    files: ['Đề cương chi tiết (PDF)', 'Bài tập tình huống (Excel)', 'Sách tham khảo (PDF)'],
                    size: '30.1MB',
                    tags: ['toán', 'ứng dụng', 'tình huống', 'đề cương', 'đại cương']
                },
                { 
                    id: 'marketing', 
                    title: 'Nguyên lý Marketing', 
                    description: 'Giáo trình, slide và các case study marketing thực tế.',
                    count: '110+', 
                    category: 'chuyen-nganh', 
                    icon: 'fa-bullhorn', 
                    color: 'primary',
                    files: ['Giáo trình Marketing (PDF)', 'Slide 12 chương (PPT)', 'Case study Vinamilk, Bitis (Word)'],
                    size: '45.5MB',
                    tags: ['marketing', 'nguyên lý', 'case study', 'chuyên ngành']
                },
                { 
                    id: 'ketoan', 
                    title: 'Nguyên lý Kế toán', 
                    description: 'Bài tập định khoản, đề thi Nợ/Có và giáo trình.',
                    count: '130+', 
                    category: 'chuyen-nganh', 
                    icon: 'fa-book-open', 
                    color: 'secondary',
                    files: ['Giáo trình (PDF)', 'Bài tập định khoản (Excel)', 'Đề thi cuối kỳ K48, K49'],
                    size: '22.8MB',
                    tags: ['kế toán', 'nguyên lý', 'định khoản', 'nợ có', 'chuyên ngành']
                }
            ];

            // --- Dữ liệu Khóa Học ---
            const allCourses = [
                {
                    id: 'excel',
                    title: 'Excel Phân Tích Dữ Liệu',
                    description: 'Thành thạo Pivot Table, VLOOKUP và các hàm thống kê.',
                    category: 'Kỹ Năng Thực Chiến',
                    price: '100.000 VNĐ',
                    priceRaw: 100000,
                    color: 'primary',
                    badge: 'Premium',
                    image: 'https://images.pexels.com/photos/669615/pexels-photo-669615.jpeg?auto=compress&cs=tinysrgb&w=600&h=400&dpr=1',
                    linkText: 'Xem chi tiết'
                },
                {
                    id: 'vimo-onthi',
                    title: 'Ôn Thi Kinh Tế Vĩ Mô',
                    description: 'Tổng hợp 10 chủ đề trọng tâm và giải đề thi mẫu.',
                    category: 'Ôn Thi Cấp Tốc',
                    price: '0 VNĐ',
                    priceRaw: 0,
                    color: 'secondary',
                    badge: 'Miễn Phí',
                    image: 'https://images.pexels.com/photos/355948/pexels-photo-355948.jpeg?auto=compress&cs=tinysrgb&w=600&h=400&dpr=1',
                    linkText: 'Học ngay'
                },
                {
                    id: 'thuyettrinh',
                    title: 'Nghệ Thuật Thuyết Trình',
                    description: 'Từ thiết kế slide (Canva) đến phong thái tự tin.',
                    category: 'Kỹ Năng Mềm',
                    price: '150.000 VNĐ',
                    priceRaw: 150000,
                    color: 'accent',
                    badge: 'Premium',
                    image: 'https://images.pexels.com/photos/1181534/pexels-photo-1181534.jpeg?auto=compress&cs=tinysrgb&w=600&h=400&dpr=1',
                    linkText: 'Xem chi tiết'
                },
                {
                    id: 'ketoan-nl',
                    title: 'Nguyên lý Kế toán',
                    description: 'Nắm vững định khoản Nợ/Có và các báo cáo tài chính cơ bản.',
                    category: 'Chuyên ngành Cơ sở',
                    price: '0 VNĐ',
                    priceRaw: 0,
                    color: 'emerald',
                    badge: 'Miễn Phí',
                    image: 'https://images.pexels.com/photos/209224/pexels-photo-209224.jpeg?auto=compress&cs=tinysrgb&w=600&h=400&dpr=1',
                    linkText: 'Học ngay'
                },
                {
                    id: 'marketing-qt',
                    title: 'Quản trị Marketing',
                    description: 'Phân tích mô hình 4P, 7P và xây dựng kế hoạch marketing.',
                    category: 'Chuyên ngành',
                    price: '200.000 VNĐ',
                    priceRaw: 200000,
                    color: 'secondary',
                    badge: 'Premium',
                    image: 'https://images.pexels.com/photos/3184423/pexels-photo-3184423.jpeg?auto=compress&cs=tinysrgb&w=600&h=400&dpr=1',
                    linkText: 'Xem chi tiết'
                },
                {
                    id: 'cv',
                    title: 'Viết CV & Phỏng vấn',
                    description: 'Bí quyết viết CV chuẩn ATS và trả lời các câu hỏi phỏng vấn.',
                    category: 'Kỹ Năng Mềm',
                    price: '120.000 VNĐ',
                    priceRaw: 120000,
                    color: 'primary',
                    badge: 'Premium',
                    image: 'https://images.pexels.com/photos/5926393/pexels-photo-5926393.jpeg?auto=compress&cs=tinysrgb&w=600&h=400&dpr=1',
                    linkText: 'Xem chi tiết'
                }
            ];
            
            // --- Khởi tạo Fuse.js ---
            const fuseOptions = {
                includeScore: true,
                keys: ['title', 'description', 'tags'],
                threshold: 0.4, // Điều chỉnh độ "mờ" của tìm kiếm
            };
            const documentFuse = new Fuse(allDocuments, fuseOptions);

            // --- Biến trạng thái cho việc lọc ---
            let currentDocCategory = 'all';
            let currentSearchTerm = '';


            document.addEventListener('DOMContentLoaded', function() {
                
                const header = document.getElementById('main-header'); 
                const headerHeight = header ? header.offsetHeight : 80; 

                // --- Định nghĩa các phần tử DOM chính ---
                const documentGrid = document.getElementById('document-grid');
                const courseGrid = document.getElementById('course-grid');
                const documentNoResults = document.getElementById('document-no-results');
                const documentSearchInput = document.getElementById('document-search'); 
                const documentsSection = document.getElementById('documents'); 

                // Hàm render Kho Tài Liệu
                function renderDocuments(docs) {
                    if (!documentGrid) return; 
                    documentGrid.innerHTML = ''; 
                    
                    if (!documentNoResults) return; 
                    
                    if (docs.length === 0) {
                        documentNoResults.classList.remove('hidden');
                        return;
                    }
                    documentNoResults.classList.add('hidden');
                    
                    docs.forEach(doc => {
                        const docData = doc.item || doc; 
                        const cardHTML = `
                            <div class="tab-content ${docData.category} all upgraded-card bg-white overflow-hidden cursor-pointer document-card fade-in border-${docData.color}"
                                 data-id="${docData.id}" 
                                 role="button" 
                                 tabindex="0">
                                <div class="p-7">
                                    <span class="fa-solid ${docData.icon} text-4xl text-brand-${docData.color} mb-5" aria-hidden="true"></span>
                                    <h3 class="text-xl font-bold font-display mb-2">${docData.title}</h3>
                                    <p class="text-brand-text-light text-sm mb-5 leading-relaxed">${docData.description}</p>
                                    <span class="font-semibold text-brand-${docData.color}">${docData.count} Tài liệu</span>
                                </div>
                            </div>`;
                        documentGrid.insertAdjacentHTML('beforeend', cardHTML);
                    });
                    observeFadeIn(documentGrid.querySelectorAll('.fade-in'));
                }

                // Hàm render Khóa Học
                function renderCourses(courses) {
                    if (!courseGrid) return; 
                    courseGrid.innerHTML = ''; 
                    courses.forEach((course, index) => {
                        const delay = (index % 3) * 200; 
                        const cardHTML = `
                            <div class="course-card upgraded-card bg-white overflow-hidden fade-in glow-${course.color}" style="transition-delay: ${delay}ms;">
                                <div class="overflow-hidden rounded-t-2xl">
                                    <img src="${course.image}" alt="Ảnh bìa khóa học ${course.title}" class="w-full h-48 object-cover">
                                </div>
                                <div class="p-6">
                                    <div class="flex justify-between items-center mb-2">
                                        <span class="text-sm font-medium text-brand-${course.color}">${course.category}</span>
                                        <span class="text-sm font-bold text-white bg-brand-${course.color} px-3 py-1 rounded-full">${course.badge}</span>
                                    </div>
                                    <h3 class="text-xl font-bold font-display mb-2 mt-1">${course.title}</h3>
                                    <p class="text-brand-text-light text-sm mb-4 leading-relaxed">${course.description}</p>
                                    <div class="flex items-center justify-between border-t border-slate-100 pt-4">
                                        <span class="text-xl font-bold text-brand-${course.color}">${course.price}</span>
                                        <a href="#" class="text-brand-${course.color} font-semibold hover:underline">${course.linkText}</a>
                                    </div>
                                </div>
                            </div>`;
                        courseGrid.insertAdjacentHTML('beforeend', cardHTML);
                    });
                    observeFadeIn(courseGrid.querySelectorAll('.fade-in'));
                }

                // Hàm tổng hợp để lọc và render
                function filterAndRenderDocuments() {
                    let filteredDocs = allDocuments;

                    // 1. Lọc bằng search (Fuse.js)
                    if (currentSearchTerm.trim() !== '') {
                        filteredDocs = documentFuse.search(currentSearchTerm).map(result => result.item);
                    }

                    // 2. Lọc bằng category
                    if (currentDocCategory !== 'all') {
                        filteredDocs = filteredDocs.filter(doc => doc.category === currentDocCategory);
                    }

                    renderDocuments(filteredDocs);
                }

                // --- 1. Header Scroll Effect ---
                if (header) { 
                    window.addEventListener('scroll', () => {
                        if (window.scrollY > 50) {
                            header.classList.add('header-scrolled');
                            header.classList.remove('bg-white/95');
                        } else {
                            header.classList.remove('header-scrolled');
                            header.classList.add('bg-white/95');
                        }
                    });
                }

                // --- 2. Mobile Menu Toggle ---
                const mobileMenuBtn = document.getElementById('mobile-menu-btn');
                const mobileMenu = document.getElementById('mobile-menu');
                
                if (mobileMenuBtn && mobileMenu) { 
                    const mobileLinks = mobileMenu.querySelectorAll('a, button');
                    mobileMenuBtn.addEventListener('click', () => {
                        const isHidden = mobileMenu.classList.toggle('hidden');
                        mobileMenuBtn.setAttribute('aria-expanded', !isHidden);
                    });
                    mobileLinks.forEach(link => {
                        link.addEventListener('click', () => {
                            mobileMenu.classList.add('hidden');
                            mobileMenuBtn.setAttribute('aria-expanded', 'false');
                        });
                    });
                }

                // --- 3. Modal Handling ---
                const loginModal = document.getElementById('login-modal');
                const registerModal = document.getElementById('register-modal');
                const documentModal = document.getElementById('document-modal');
                const loginBtns = [document.getElementById('login-btn'), document.getElementById('login-btn-mobile')];
                const registerBtns = [document.getElementById('register-btn'), document.getElementById('register-btn-mobile')];
                const closeLoginBtn = document.getElementById('close-login');
                const closeRegisterBtn = document.getElementById('close-register');
                const closeDocumentBtn = document.getElementById('close-document');
                const closeDocumentBtnSecondary = document.getElementById('close-document-btn'); 
                const showLoginFromRegister = document.getElementById('show-login-from-register');
                const showRegisterFromLogin = document.getElementById('show-register-from-login');

                const openModal = (modal) => modal.style.display = 'flex';
                const closeModal = (modal) => modal.style.display = 'none';

                loginBtns.forEach(btn => btn && btn.addEventListener('click', () => openModal(loginModal))); 
                registerBtns.forEach(btn => btn && btn.addEventListener('click', () => openModal(registerModal))); 
                
                // CẢI TIẾN (v22): Cập nhật nút CTA mới
                const ctaRegisterBtnV22 = document.getElementById('cta-register-btn-v22');
                if (ctaRegisterBtnV22) {
                    ctaRegisterBtnV22.addEventListener('click', (e) => {
                        e.preventDefault(); 
                        openModal(registerModal);
                    });
                }

                if (closeLoginBtn) closeLoginBtn.addEventListener('click', () => closeModal(loginModal));
                if (closeRegisterBtn) closeRegisterBtn.addEventListener('click', () => closeModal(registerModal));
                if (closeDocumentBtn) closeDocumentBtn.addEventListener('click', () => closeModal(documentModal));
                if (closeDocumentBtnSecondary) closeDocumentBtnSecondary.addEventListener('click', () => closeModal(documentModal)); 
                if (showLoginFromRegister) showLoginFromRegister.addEventListener('click', (e) => { e.preventDefault(); closeModal(registerModal); openModal(loginModal); });
                if (showRegisterFromLogin) showRegisterFromLogin.addEventListener('click', (e) => { e.preventDefault(); closeModal(loginModal); openModal(registerModal); });

                window.addEventListener('click', (event) => {
                    if (event.target == loginModal) closeModal(loginModal);
                    if (event.target == registerModal) closeModal(registerModal);
                    if (event.target == documentModal) closeModal(documentModal);
                });

                // --- 4. CẢI TIẾN (v13): Document Tab & Search Filter ---
                const tabList = document.getElementById('document-tablist');
                const tabButtons = document.querySelectorAll('.tab-button');
                
                if (tabList && tabButtons.length > 0) {
                    tabButtons.forEach((button) => {
                        button.addEventListener('click', (e) => {
                            e.preventDefault();
                            tabButtons.forEach(btn => { btn.classList.remove('active'); btn.setAttribute('tabindex', '-1'); });
                            button.classList.add('active'); button.setAttribute('tabindex', '0');
                            
                            currentDocCategory = button.getAttribute('data-tab'); 
                            filterAndRenderDocuments(); 
                        });
                    });
                }
                
                if (documentSearchInput) {
                    documentSearchInput.addEventListener('input', (e) => {
                        currentSearchTerm = e.target.value; 
                        filterAndRenderDocuments(); 
                    });
                }

                // Khởi tạo render lần đầu
                renderDocuments(allDocuments);
                renderCourses(allCourses);

                // --- 5. CẢI TIẾN (v13): Document Modal Động ---
                const documentTitle = document.getElementById('document-title');
                const documentBody = document.getElementById('document-body');
                const documentDownloadText = document.getElementById('document-download-text');
                const documentDownloadBtn = document.getElementById('document-download-btn');
                
                if (documentGrid) {
                    documentGrid.addEventListener('click', (e) => {
                        const card = e.target.closest('.document-card');
                        if (!card) return;

                        const docId = card.getAttribute('data-id');
                        const docData = allDocuments.find(d => d.id === docId);

                        if (docData && documentTitle && documentBody && documentDownloadText && documentDownloadBtn) { 
                            documentTitle.innerText = `Chi tiết: ${docData.title}`;
                            documentBody.innerHTML = `
                                <p class="text-lg text-brand-text-light mb-4 leading-relaxed">${docData.description}</p>
                                <h4 class="font-semibold font-display text-lg mb-2">Bao gồm:</h4>
                                <ul class="list-disc list-inside space-y-1 text-brand-text-light leading-relaxed">
                                    ${docData.files.map(file => `<li>${file}</li>`).join('')}
                                </ul>`;
                            documentDownloadText.innerText = `Tải về (${docData.size})`;
                            documentDownloadBtn.setAttribute('href', '#'); 
                            openModal(documentModal);
                        }
                    });
                }


                // --- 6. XÓA BỎ (v26): Toàn bộ JS cho Testimonial Slider ---
                
                // --- 7. Smooth Scrolling ---
                document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                    anchor.addEventListener('click', function (e) {
                        if (this.getAttribute('href').length > 1) {
                            e.preventDefault();
                            const targetId = this.getAttribute('href');
                            const targetElement = document.querySelector(targetId);
                            if (targetElement) {
                                const elementPosition = targetElement.getBoundingClientRect().top;
                                const offsetPosition = elementPosition + window.pageYOffset - (headerHeight + 10); 
                                window.scrollTo({ top: offsetPosition, behavior: "smooth" });
                            }
                        }
                    });
                });

                // --- 8. Fade-in on Scroll ---
                function observeFadeIn(elements) {
                    if (!elements || elements.length === 0) return; 
                    const observerOptions = { root: null, rootMargin: '0px', threshold: 0.1 };
                    const observer = new IntersectionObserver((entries, observer) => {
                        entries.forEach(entry => {
                            if (entry.isIntersecting) {
                                entry.target.classList.add('visible');
                                observer.unobserve(entry.target);
                            }
                        });
                    }, observerOptions);
                    elements.forEach(elem => { observer.observe(elem); });
                }
                observeFadeIn(document.querySelectorAll('.fade-in'));

                // --- 9. CẢI TIẾN (v13): Magic Line Nav (Thêm 'focus') ---
                const mainNav = document.getElementById('main-nav');
                const magicLine = document.getElementById('nav-magic-line');
                
                if (mainNav && magicLine) { 
                    const navLinks = mainNav.querySelectorAll('.nav-link');
                    if (navLinks.length > 0) {
                        function moveMagicLine(link) {
                            magicLine.style.width = `${link.offsetWidth}px`;
                            magicLine.style.left = `${link.offsetLeft}px`;
                            magicLine.style.opacity = '1';
                        }
                        navLinks.forEach(link => {
                            link.addEventListener('mouseenter', () => moveMagicLine(link));
                            link.addEventListener('focus', () => moveMagicLine(link)); 
                        });

                        mainNav.addEventListener('mouseleave', () => {
                            magicLine.style.opacity = '0';
                        });
                        mainNav.addEventListener('focusout', () => { 
                            magicLine.style.opacity = '0';
                        });
                    }
                }

                // --- 10. CẢI TIẾN (v13): Newsletter Form (AJAX) ---
                const newsletterForm = document.getElementById('newsletter-form');
                
                if (newsletterForm) { 
                    const newsletterMessage = document.getElementById('newsletter-message');
                    const footerEmail = document.getElementById('footer-email');
                    
                    newsletterForm.addEventListener('submit', function(e) {
                        e.preventDefault();
                        if (newsletterForm.classList.contains('loading') || !newsletterMessage || !footerEmail) return;

                        newsletterForm.classList.add('loading');
                        newsletterForm.querySelector('button[type="submit"]').disabled = true;
                        newsletterMessage.className = '';
                        newsletterMessage.innerText = '';

                        setTimeout(() => {
                            const email = footerEmail.value;
                            if (email && email.includes('@')) {
                                newsletterMessage.innerText = 'Cảm ơn bạn đã đăng ký!';
                                newsletterMessage.className = 'success';
                                footerEmail.value = '';
                            } else {
                                newsletterMessage.innerText = 'Vui lòng nhập một email hợp lệ.';
                                newsletterMessage.className = 'error';
                            }
                            
                            newsletterForm.classList.remove('loading');
                            newsletterForm.querySelector('button[type="submit"]').disabled = false;

                        }, 1500); 
                    });
                }

                // --- 11. CẢI TIẾN (v19): Biểu đồ Tri Thức (ICON) ---
                const graphContainer = document.getElementById('knowledge-graph-container');
                if (graphContainer) { 
                    const graphNodes = [
                        { label: 'Kinh tế Vi mô', class: 'node-1', icon: 'fa-magnifying-glass-chart' },
                        { label: 'Kế toán', class: 'node-2', icon: 'fa-book-open' },
                        { label: 'Marketing', class: 'node-3', icon: 'fa-bullhorn' },
                        { label: 'Kinh tế Vĩ mô', class: 'node-4', icon: 'fa-chart-line' },
                        { label: 'Quốc tế', class: 'node-5', icon: 'fa-globe-americas' },
                        { label: 'Toán', class: 'node-6', icon: 'fa-calculator' }
                    ];

                    graphNodes.forEach(nodeData => {
                        const nodeEl = document.createElement('div'); 
                        nodeEl.className = `knowledge-node ${nodeData.class}`;
                        nodeEl.setAttribute('role', 'figure');
                        nodeEl.setAttribute('aria-label', nodeData.label); 

                        const iconEl = document.createElement('i');
                        iconEl.className = `fa-solid ${nodeData.icon}`;
                        iconEl.setAttribute('aria-hidden', 'true');
                        
                        nodeEl.appendChild(iconEl); 
                        graphContainer.appendChild(nodeEl);
                    });
                }

                // --- 12. CẢI TIẾN (v22): Community Hub Tabs ---
                const communityTablist = document.getElementById('community-tablist');
                if (communityTablist) {
                    const tabButtons = communityTablist.querySelectorAll('.community-tab-button');
                    const tabContents = communityTablist.parentElement.querySelectorAll('.community-tab-content');

                    tabButtons.forEach(button => {
                        button.addEventListener('click', () => {
                            const tabName = button.getAttribute('data-tab');

                            // Cập nhật Buttons
                            tabButtons.forEach(btn => {
                                btn.classList.remove('active');
                                btn.setAttribute('aria-selected', 'false');
                            });
                            button.classList.add('active');
                            button.setAttribute('aria-selected', 'true');

                            // Cập nhật Contents
                            tabContents.forEach(content => {
                                content.classList.remove('active');
                                if (content.id === `tab-${tabName}`) {
                                    content.classList.add('active');
                                }
                            });
                        });
                    });
                }

            });
        })();
    </script>

</body>
</html>

